{"version":3,"sources":["../src/transparent-checkout.js"],"names":["require","$","on","data","createMasks","document","ccValidateFields","submit","mask","onKeyPress","ph","e","field","ph_options","masks","length","doc","options","rtn","val","trim","html"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Potential user selector module.\n *\n * @module     enrol_manual/form-potential-user-selector\n * @class      form-potential-user-selector\n * @package    enrol_manual\n * @copyright  2016 Damyon Wiese\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nrequire(['jquery'], function($){\n\n    $(\"#cielo-payment-btn\").on('click', function(){\n        var couponcode = $(\"#cielo-payment-btn\").data('coupon-code');\n        createMasks();\n    });\n\n    $(document).on('click', '#cc_submit', function() {\n        if(ccValidateFields()){\n            $('#cielo_cc_form').submit();\n        }\n    });\n});\n\nfunction createMasks(){\n    require(['jquery', 'enrol_cielo/jqmask'], function($, jqmask){\n        var ph_options = {\n            onKeyPress: function(ph, e, field, ph_options){\n                var masks = ['(00) 0000-00009', '(00) 0 0000-0000'];\n                var mask = (ph.length > 14) ? masks[1] : masks [0];\n                $('.input-phone').mask(mask, ph_options);\n            }\n        };\n        $('.input-phone').mask(\"(00) 0000-0000\", ph_options);\n        var options = {\n            onKeyPress: function(doc, e, field, options){\n                var masks = ['000.000.000-009', '00.000.000/0000-00'];\n                var mask = (doc.length > 14) ? masks[1] : masks [0];\n                $('.input-cpfcnpj').mask(mask, options);\n            }\n        };\n        $('.input-cpfcnpj').mask(\"000.000.000-009\", options);\n        $('.input-ccnumber').mask('0000 0000 0000 0000');\n        $('.input-ccvalid').mask('00/0000');\n        $('.input-cvv').mask('000');\n    });\n}\n\nfunction ccValidateFields(){\n    var rtn = true;\n    require(['jquery'],function($){\n        if(!$(\"#ccName\").val().trim()){\n            rtn = false;\n            $(\"#ccName-error\").html('Favor preencher Nome corretamente');\n        }else{\n            $(\"#ccName-error\").html('');\n        }\n        if(!$(\"#ccNumber\").val().trim()){\n            rtn = false;\n            $(\"#ccNumber-error\").html('Favor preencher Número do cartão corretamente');\n        }else{\n            $(\"#ccNumber-error\").html('');\n        }\n        if(!$(\"#ccvalid\").val().trim()){\n            rtn = false;\n            $(\"#ccvalid-error\").html('Favor preencher Validade do cartão corretamente');\n        }else{\n            $(\"#ccvalid-error\").html('');\n        }\n        if(!$(\"#cvv\").val().trim()){\n            rtn = false;\n            $(\"#cvv-error\").html('Favor preencher CVV corretamente');\n        }else{\n            $(\"#cvv-error\").html('');\n        }\n    });\n\n    return rtn;\n}\n"],"file":"transparent-checkout.min.js"}